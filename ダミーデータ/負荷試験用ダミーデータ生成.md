# 負荷試験用ダミーデータ生成

データベースへの負荷試験を実施するためにダミーデータを生成する仕組みを構築したい。
その回答を得るために必要な情報をこちらに質問してください。
十分な情報を得たら、回答を作成してください。

## 環境
- Google Cloud SQL
- MySQL
- ストアド・プロシージャ
## 要件

### テーブル構成

- 主要テーブル間の関係図
	- HistoryMainline を中心に各テーブルが接続されている。

- 主なリレーション：
	- Container.ContainerId → HistoryMainline.ContainerId
	- DataPointHistory.HistoryMainlineId → HistoryMainline.HistoryMainlineId
	- DataPointHistoryDetail.DataPointHistoryId → DataPointHistory.DataPointHistoryId
	- isOEERawDetails.HistoryMainlineId → HistoryMainline.HistoryMainlineId
	- ResourceStatusHistory.HistoryMainlineId → HistoryMainline.HistoryMainlineId

### テーブル定義
```SQL
create table [dbo].[Container] (  
  [BatchComments] nvarchar(2000)  
  , [BatchId] char(16)  
  , [BatchStatus] int  
  , [BillOfProcessId] char(16)  
  , [BinSize] nvarchar(100)  
  , [BOMId] char(16)  
  , [CDOTypeId] int  
  , [ChangeCount] int  
  , [ChildCount] int  
  , [ConsumingOrder] nvarchar(255)  
  , [ContainerComments] nvarchar(2000)  
  , [ContainerId] char(16) not null  
  , [ContainerName] nvarchar(30)  
  , [ContainerStartGUID] nvarchar(40)  
  , [CurrentHoldCount] int  
  , [CurrentStatusId] char(16)  
  , [CurrentThruputChildCount] int  
  , [CurrentThruputQty] float(53)  
  , [CurrentThruputQty2] float(53)  
  , [CurrentThruputUnitCount] int  
  , [CustomerId] char(16)  
  , [DateCode] nvarchar(100)  
  , [Description] nvarchar(255)  
  , [DetailId] char(16)  
  , [Direction] int  
  , [DueDate] datetime  
  , [DueDateGMT] datetime  
  , [ExpirationDate] datetime  
  , [ExpirationDateGMT] datetime  
  , [FactoryStartDate] datetime  
  , [FactoryStartDateGMT] datetime  
  , [FactoryStartQty] float(53)  
  , [FactoryStartQty2] float(53)  
  , [FactoryStartUOM2Id] char(16)  
  , [FactoryStartUOMId] char(16)  
  , [HoldReasonId] char(16)  
  , [InQualityControl] int  
  , [IssuedToContainerId] char(16)  
  , [LastActivityDate] datetime  
  , [LastActivityDateGMT] datetime  
  , [LastCarrierId] char(16)  
  , [LastCompletionDate] datetime  
  , [LastCompletionDateGMT] datetime  
  , [LastRevTxnId] char(16)  
  , [LeadFree] int  
  , [LevelId] char(16)  
  , [MasterRecipeId] char(16)  
  , [MfgOrderId] char(16)  
  , [MfgPartNumber] nvarchar(100)  
  , [NickName] nvarchar(100)  
  , [OnHoldDate] datetime  
  , [OriginalContainerId] char(16)  
  , [OriginalFactoryId] char(16)  
  , [OriginalQty] float(53)  
  , [OriginalQty2] float(53)  
  , [OriginalStartDate] datetime  
  , [OriginalStartDateGMT] datetime  
  , [OriginalUOM2Id] char(16)  
  , [OriginalUOMId] char(16)  
  , [OwnerId] char(16)  
  , [ParentContainerId] char(16)  
  , [PlannedProductId] char(16)  
  , [PlannedQty] float(53)  
  , [PlannedQty2] float(53)  
  , [PlannedQtyUOM2Id] char(16)  
  , [PlannedQtyUOMId] char(16)  
  , [PlannedStartDate] datetime  
  , [PlannedStartDateGMT] datetime  
  , [PriorityCodeId] char(16)  
  , [ProductId] char(16)  
  , [ProductionComplete] bit not null  
  , [Qty] float(53)  
  , [Qty2] float(53)  
  , [RelativePriority] int  
  , [RequestDate] datetime  
  , [RequestDateGMT] datetime  
  , [SalesOrderId] char(16)  
  , [SamplingLotId] char(16)  
  , [SamplingPassed] bit not null  
  , [SamplingRequired] bit not null  
  , [ShapeName] nvarchar(255)  
  , [SPCChartSaveOptionsEnumId] char(16)  
  , [SpecStatusId] char(16)  
  , [SplitFromId] char(16)  
  , [StartParentContainerId] char(16)  
  , [StartReasonId] char(16)  
  , [Status] int  
  , [Supplier] nvarchar(100)  
  , [SupplyFromName] nvarchar(100)  
  , [SupplyFromType] nvarchar(255)  
  , [ThisContainerLost] bit not null  
  , [ThruputAdjustmentChildCount] int  
  , [ThruputAdjustmentQty] float(53)  
  , [ThruputAdjustmentQty2] float(53)  
  , [ThruputAdjustmentUnitCount] int  
  , [UnitCount] int  
  , [UOM2Id] char(16)  
  , [UOMId] char(16)  
  , [VendorItemId] char(16)  
  , [WIPMsgDefMgrId] char(16)  
  , [bpCalculateQtyRequired] bit not null  
  , [DeviceIdentifierId] char(16)  
  , [isAssociatedCarrierId] char(16)  
  , [isAutoStart] bit not null  
  , [isCarrier] bit not null  
  , [isCarrierSlot] int  
  , [isFailed] bit not null  
  , [isHoldReasonName] nvarchar(30)  
  , [isInventoryLocationId] char(16)  
  , [isMaterialManageEnabled] bit not null  
  , [isProductName] nvarchar(30)  
  , [isProductRevision] nvarchar(15)  
  , [isRepairedDefectCount] int  
  , [ManufacturingDate] datetime  
  , [ManufacturingDateGMT] datetime  
  , [ProductionIdentifier] nvarchar(100)  
  , UDI nvarchar(1000)  
  , primary key (ContainerId)  
);
```

---

```SQL
create table [dbo].[HistoryMainline] (  
  [Application] int  
  , [BaseTxnType] int  
  , [BatchId] char(16)  
  , [BinningIncluded] bit not null  
  , [BonusIncluded] bit not null  
  , [CalendarShiftId] char(16)  
  , [CarrierId] char(16)  
  , [CDOTypeId] int  
  , [ChangeCount] int  
  , [Client] int  
  , [Comments] nvarchar(255)  
  , [CompoundTxnType] int  
  , [ComputationHistoryId] char(16)  
  , [ContainerId] char(16)  
  , [DefectIncluded] bit not null  
  , [EmployeeId] char(16)  
  , [ESigRequirementId] char(16)  
  , [FactoryId] char(16)  
  , [HistoryId] char(16)  
  , [HistoryMainlineId] char(16) not null  
  , [IconId] int  
  , [Implicit] bit not null  
  , [InRework] bit not null  
  , [LocalReworkIncluded] bit not null  
  , [LoginId] char(16)  
  , [LossIncluded] bit not null  
  , [MfgDate] datetime  
  , [MfgProcessOverridesId] char(16)  
  , [OperationId] char(16)  
  , [OwnerId] char(16)  
  , [ParametricDetailId] char(16)  
  , [ProductId] char(16)  
  , [QualityESigConfirmed] bit not null  
  , [ResourceAvailability] int  
  , [ResourceId] char(16)  
  , [ResourceStatusCodeId] char(16)  
  , [ResourceStatusReasonId] char(16)  
  , [ReversalStatus] int  
  , [Server] int  
  , [ShiftName] nvarchar(30)  
  , [SpecId] char(16)  
  , [Status] int  
  , [StepEntryTxnId] char(16)  
  , [StepPass] int  
  , [SystemDate] datetime  
  , [SystemDateGMT] datetime  
  , [TxnDate] datetime  
  , [TxnDateGMT] datetime  
  , [TxnId] char(16)  
  , [TxnServiceName] nvarchar(32)  
  , [TxnServiceSequence] int  
  , [TxnType] int  
  , [UserId] char(16)  
  , [WorkflowStepId] char(16)  
  , [WorkstationId] char(16)  
  , [CIOMessageID] nvarchar(36)  
  , [CIOMessageIDOutbound] nvarchar(36)  
  , [DeviceIdentifierId] char(16)  
  , [ExpirationDate] datetime  
  , [ExpirationDateGMT] datetime  
  , [isFailed] bit not null  
  , [ManufacturingDate] datetime  
  , [ManufacturingDateGMT] datetime  
  , [ProductionIdentifier] nvarchar(100)  
  , UDI nvarchar(100)  
  , primary key (HistoryMainlineId)  
);
```


---

```SQL
create table [dbo].[DataPointHistory] (  
  [CDOTypeId] int  
  , [ChangeCount] int  
  , [DataCollectionDefId] char(16)  
  , [DataPointHistoryId] char(16) not null  
  , [ExportImportKey] nvarchar(36)  
  , [HistoryId] char(16)  
  , [HistoryMainlineId] char(16)  
  , [TxnId] char(16)  
  , primary key (DataPointHistoryId)  
);
```

---

```SQL
create table [dbo].[DataPointHistoryDetail] (  
  [AttributeName] nvarchar(255)  
  , [BooleanValue] bit not null  
  , [CDOTypeId] int  
  , [ChangeCount] int  
  , [Comments] nvarchar(2000)  
  , [DataCollectionDefId] char(16)  
  , [DataName] nvarchar(30)  
  , [DataPointHistoryDetailId] char(16) not null  
  , [DataPointHistoryId] char(16)  
  , [DataPointId] char(16)  
  , [DataType] int  
  , [DataValue] nvarchar(30)  
  , [DecimalScale] int  
  , [DecimalValue] decimal(19, 9)  
  , [EnumerationValue] nvarchar(30)  
  , [ExportImportKey] nvarchar(36)  
  , [FixedValue] float(53)  
  , [FloatValue] float(53)  
  , [HistoryId] char(16)  
  , [IntegerValue] int  
  , [IsLimitOverride] bit not null  
  , [IsLimitOverrideAllowed] bit not null  
  , [IsLimitViolation] bit not null  
  , [IsRequired] bit not null  
  , [LowerLimit] nvarchar(30)  
  , [MapToUserAttribute] bit not null  
  , [NDOValueId] char(16)  
  , [ObjectTypeName] nvarchar(30)  
  , [OriginalValue] nvarchar(30)  
  , [RDOValueId] char(16)  
  , [TimestampValue] datetime  
  , [TxnId] char(16)  
  , [UOMId] char(16)  
  , [UpperLimit] nvarchar(30)  
  , [isDefectReasonId] char(16)  
  , [isRequireDefectReason] bit not null  
  , primary key (DataPointHistoryDetailId)  
);
```

---

```SQL
create table [dbo].[isOEERawDetails] (  
  [CalendarDate] datetime  
  , [CalendarShiftId] char(16)  
  , [CDOTypeId] int  
  , [ChangeCount] int  
  , [ChildCount] int  
  , [ContainerId] char(16)  
  , [ContainerName] nvarchar(30)  
  , [CycleStartGMT] datetime  
  , [CycleTime] float(53)  
  , [EmployeeId] char(16)  
  , [EmployeeName] nvarchar(30)  
  , [EquipmentCycleTimeMS] float(53)  
  , [FactoryId] char(16)  
  , [FactoryName] nvarchar(30)  
  , [GoodQty] float(53)  
  , [GoodQty2] float(53)  
  , [HistoryMainlineId] char(16)  
  , [IdealCycleTime] float(53)  
  , [isERPOperation] nvarchar(30)  
  , [isFailed] bit not null  
  , [isFailedQty] float(53)  
  , [isOEERawDetailsId] char(16) not null  
  , [isOEERawDetailsName] nvarchar(36)  
  , [isOpenDefectCount] int  
  , [isQty] float(53)  
  , [isRecipeName] nvarchar(100)  
  , [isRepairedDefectCount] int  
  , [isRouteStepName] nvarchar(30)  
  , [isTotalDefectCount] int  
  , [LossQty] float(53)  
  , [LossQty2] float(53)  
  , [MfgOrderId] char(16)  
  , [MfgOrderName] nvarchar(30)  
  , [OperationId] char(16)  
  , [OperationName] nvarchar(30)  
  , [OwnerName] nvarchar(30)  
  , [ParentId] char(16)  
  , [ProcessTime] float(53)  
  , [ProductFamilyId] char(16)  
  , [ProductFamilyName] nvarchar(30)  
  , [ProductId] char(16)  
  , [ProductName] nvarchar(30)  
  , [ProductRevision] nvarchar(15)  
  , [QtyAdjustReason] nvarchar(30)  
  , [QueueTime] float(53)  
  , [RecipeId] char(16)  
  , [RecipeName] nvarchar(100)  
  , [ResourceFamilyId] char(16)  
  , [ResourceFamilyName] nvarchar(30)  
  , [ResourceId] char(16)  
  , [ResourceName] nvarchar(30)  
  , [ReworkedQty] float(53)  
  , [ReworkedQty2] float(53)  
  , [ReworkReason] nvarchar(30)  
  , [RouteStepId] char(16)  
  , [Shift] nvarchar(30)  
  , [SpecId] char(16)  
  , [SpecName] nvarchar(30)  
  , [SpecRevision] nvarchar(15)  
  , [StartParentContainerId] char(16)  
  , [StepId] char(16)  
  , [StepName] nvarchar(30)  
  , [StepPass] int  
  , [TotalQty] float(53)  
  , [TotalQty2] float(53)  
  , [TxnDate] datetime  
  , [TxnDateGMT] datetime  
  , [TxnName] nvarchar(2000)  
  , [TxnType] int  
  , UOM nvarchar(30)  
  , UOM2 nvarchar(30)  
  , [WorkflowId] char(16)  
  , [WorkflowName] nvarchar(30)  
  , [WorkflowRevision] nvarchar(15)  
  , [WorkflowStepSequence] int  
  , primary key (isOEERawDetailsId)  
);
```

---

```SQL
create table [dbo].[ResourceStatusHistory] (  
  [Availability] int  
  , [CDOTypeId] int  
  , [ChangeCount] int  
  , [Comments] nvarchar(2000)  
  , [ExportImportKey] nvarchar(36)  
  , [HistoryId] char(16)  
  , [HistoryMainlineId] char(16)  
  , [LastStatusChangeDate] datetime  
  , [LastStatusChangeDateGMT] datetime  
  , [OldAvailability] int  
  , [OldComments] nvarchar(2000)  
  , [OldLastActivityDate] datetime  
  , [OldLastActivityDateGMT] datetime  
  , [OldLastStatusChangeDate] datetime  
  , [OldLastStatusChangeDateGMT] datetime  
  , [OldPartExpiryDate] datetime  
  , [OldPartQty] int  
  , [OldPhysicalLocationId] char(16)  
  , [OldPhysicalPositionId] char(16)  
  , [OldProductId] char(16)  
  , [OldResourceState] int  
  , [OldResourceStatusCodeId] char(16)  
  , [OldResourceStatusReasonCodeId] char(16)  
  , [OldRun] nvarchar(30)  
  , [OldSetupId] char(16)  
  , [OldUpdateLastStatusChangeDate] int  
  , [PartExpiryDate] datetime  
  , [PartQty] int  
  , [PhysicalLocationId] char(16)  
  , [PhysicalPositionId] char(16)  
  , [ProductId] char(16)  
  , [ResourceState] int  
  , [ResourceStatusCodeId] char(16)  
  , [ResourceStatusHistoryId] char(16) not null  
  , [ResourceStatusReasonCodeId] char(16)  
  , [Run] nvarchar(30)  
  , [SetupId] char(16)  
  , [ss_NewLocationId] char(16)  
  , [ss_OldLocationId] char(16)  
  , [TxnId] char(16)  
  , [UpdateLastStatusChangeDate] int  
  , [isOEELossCategory] int  
  , [isOldOEELossCategory] int  
  , [isRecipeId] char(16)  
  , primary key (ResourceStatusHistoryId)  
);
```

### 作成したいデータ量

一ヶ月単位でテーブルに格納するレコードを数を徐々に増やしていきたい。

|テーブル名|Container|HistoryMainline|DataPointHistory|DataPointHistoryDetail|isOEERawDetails|ResourceStatusHistory|
|1ヶ月分|81|270,270|270,270|100,000,000|270,270|270,270|
|2ヶ月分|162|540,540|540,540|200,000,000|540,540|540,540|
|3ヶ月分|243|810,810|810,810|300,000,000|810,810|810,810|
|4ヶ月分|324|1,081,080|1,081,080|400,000,000|1,081,080|1,081,080|
|5ヶ月分|405|1,351,350|1,351,350|500,000,000|1,351,350|1,351,350|
|6ヶ月分|486|1,621,620|1,621,620|600,000,000|1,621,620|1,621,620|
|7ヶ月分|567|1,891,890|1,891,890|700,000,000|1,891,890|1,891,890|
|8ヶ月分|648|2,162,160|2,162,160|800,000,000|2,162,160|2,162,160|
|9ヶ月分|729|2,432,430|2,432,430|900,000,000|2,432,430|2,432,430|
|10ヶ月分|810|2,702,700|2,702,700|1,000,000,000|2,702,700|2,702,700|
|11ヶ月分|891|2,972,970|2,972,970|1,100,000,000|2,972,970|2,972,970|
|12ヶ月分|972|3,243,240|3,243,240|1,200,000,000|3,243,240|3,243,240|